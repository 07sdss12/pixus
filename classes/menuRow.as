// menuRow class// (cc)2008-2010 JPEG Interactive// By Jam Zhang// jammind@gmail.compackage {	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.text.TextField;	import flash.text.TextFormat;	import flash.text.TextFieldAutoSize;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.geom.Rectangle;	import flash.desktop.NativeApplication;	import flash.net.SharedObject;	import caurina.transitions.Tweener;	import codeplay.utils.removeArrayElements;	public class menuRow extends Sprite {		public static var dragging:Boolean=false;		static var rows:Array=[];		var id, rowWidth, rowHeight:int;		var group:String;		public function menuRow(w:int, h:int, g:String='default') {			rowWidth=w;			rowHeight=h;			group=g;			if(rows[g]==undefined)				rows[g]=[];			id=currentRow.length;			y=currentY;			currentRow.push(this);			addEventListener(Event.ADDED_TO_STAGE, __init);		}		public function __init(event:Event):void {			removeEventListener(Event.ADDED_TO_STAGE, __init);			addEventListener(Event.REMOVED_FROM_STAGE, __dispose);		}		public function __dispose(event:Event):void {			//addEventListener(Event.ADDED_TO_STAGE, __init);			removeEventListener(Event.REMOVED_FROM_STAGE, __dispose);						//trace('menuRow.__dispose '+group+' '+id);			// Lower the IDs of affected items			for (var n:int=id+1;n<currentRow.length;n++) {				currentRow[n].id--;			}			rows[group]=removeArrayElements(currentRow,id);					}		public static function clearRows(g:String='default'):void {			for each (var n:Object in rows[g]) {				n=null;			}			rows[g]=[];		}		function get currentRow():Array{			return rows[group];		}		function syncWindowSize():void{			stage.dispatchEvent(new Event(pixusShell.EVENT_SYNC_WINDOW_SIZE)); // Tell Preference Winodw To Sync Size		}		function get currentPosition():int{			return Math.round(y/rowHeight);		}		function get currentY():int{			return id*rowHeight;		}		function get maxY():int{			return (rows[group].length-1)*rowHeight;		}	}}